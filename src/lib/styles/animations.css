@layer utilities {
  [data-waypoint-target] {
    @apply transition duration-500 ease-out;
    will-change: transform, opacity;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }

  /* Only add blur to will-change on desktop where it's used */
  @media (width >= theme(--breakpoint-lg)) {
    [data-waypoint-target].is-blurInLeftDown {
      will-change: transform, opacity, filter;
    }
  }

  /* Respect reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    [data-waypoint-target] {
      @apply transition-none;
      will-change: auto;
    }

    [data-waypoint-target][data-waypoint-animated] {
      @apply opacity-100 translate-x-0 translate-y-0 scale-100 blur-none;
    }
  }

  [data-waypoint-target].is-fadeIn {
    @apply opacity-0;
  }

  [data-waypoint-target][data-waypoint-animated].is-fadeIn {
    @apply opacity-100;
  }

  [data-waypoint-target].is-fadeInUp {
    @apply opacity-0 transform-gpu translate-y-12;
  }

  [data-waypoint-target][data-waypoint-animated].is-fadeInUp {
    @apply opacity-100 translate-y-0;
  }

  [data-waypoint-target].is-zoomInUp {
    @apply opacity-0 transform-gpu translate-y-12 scale-75;
  }

  [data-waypoint-target][data-waypoint-animated].is-zoomInUp {
    @apply opacity-100 translate-y-0 scale-100 duration-500;
    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  [data-waypoint-target].is-zoomInDown {
    @apply opacity-0 transform-gpu -translate-y-12 scale-75;
  }

  [data-waypoint-target][data-waypoint-animated].is-zoomInDown {
    @apply opacity-100 translate-y-0 scale-100;
    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  [data-waypoint-target].is-fadeInDown {
    @apply opacity-0 transform-gpu -translate-y-12;
  }

  [data-waypoint-target][data-waypoint-animated].is-fadeInDown {
    @apply opacity-100 translate-y-0;
  }

  [data-waypoint-target].is-fadeInLeft {
    @apply opacity-0 transform-gpu translate-x-12;
  }

  [data-waypoint-target][data-waypoint-animated].is-fadeInLeft {
    @apply opacity-100 translate-x-0;
  }

  [data-waypoint-target].is-fadeInLeftDown {
    @apply opacity-0 transform-gpu translate-x-12 -translate-y-[10vw] scale-75;
  }

  [data-waypoint-target][data-waypoint-animated].is-fadeInLeftDown {
    @apply opacity-100 translate-x-0 translate-y-0 scale-100;
  }

  [data-waypoint-target].is-blurInLeftDown {
    @apply opacity-0 transform-gpu translate-x-12 -translate-y-[10vw] scale-75;
  }

  [data-waypoint-target][data-waypoint-animated].is-blurInLeftDown {
    @apply opacity-100 translate-x-0 translate-y-0 scale-100;
  }

  /* Desktop-only blur for better mobile performance */
  @media (width >= theme(--breakpoint-lg)) {
    [data-waypoint-target].is-blurInLeftDown {
      @apply blur-3xl;
    }

    [data-waypoint-target][data-waypoint-animated].is-blurInLeftDown {
      @apply blur-none;
    }
  }

  [data-waypoint-target].is-fadeInRight {
    @apply opacity-0 transform-gpu -translate-x-12;
  }

  [data-waypoint-target][data-waypoint-animated].is-fadeInRight {
    @apply opacity-100 translate-x-0;
  }
}
